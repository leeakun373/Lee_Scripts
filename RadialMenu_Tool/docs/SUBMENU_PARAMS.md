# 子栏绘制参数列表

## 📐 尺寸参数

### 按钮尺寸
| 参数名 | 文件位置 | 当前值 | 说明 |
|--------|---------|--------|------|
| `slot_w` (按钮宽度) | `list_view.lua:30`<br>`submenu_bake_cache.lua:51` | **80** | 单个按钮的宽度（像素） |
| `slot_h` (按钮高度) | `list_view.lua:31`<br>`submenu_bake_cache.lua:52` | **30** | 单个按钮的高度（像素） |

### 网格布局
| 参数名 | 文件位置 | 当前值 | 说明 |
|--------|---------|--------|------|
| `GRID_COLS` (列数) | `list_view.lua:19` | **3** | 网格列数（固定） |
| `GRID_ROWS` (行数) | `list_view.lua:20` | **3** | 网格行数（固定，实际行数动态计算） |

---

## 📏 间距参数

### 按钮间距
| 参数名 | 文件位置 | 当前值 | 说明 |
|--------|---------|--------|------|
| `DEFAULT_GAP` / `gap` | `list_view.lua:24`<br>`submenu_bake_cache.lua:53` | **3** | 按钮之间的间距（像素） |

### 窗口内边距
| 参数名 | 文件位置 | 当前值 | 说明 |
|--------|---------|--------|------|
| `DEFAULT_WINDOW_PADDING` / `padding` | `list_view.lua:25`<br>`submenu_bake_cache.lua:54` | **0** | 子栏边框到按钮的距离（像素） |

### 边缘留白
| 参数名 | 文件位置 | 当前值 | 说明 |
|--------|---------|--------|------|
| `edge_padding` | `submenu_bake_cache.lua:81` | **20** | 计算最大包围盒时的边缘留白（像素） |

---

## 📍 位置参数

### 锚点位置
| 参数名 | 文件位置 | 当前值 | 说明 |
|--------|---------|--------|------|
| `overlap_offset` | `list_view.lua:585`<br>`submenu_bake_cache.lua:94,167` | **12** | 子栏与轮盘的重叠偏移量（像素）<br>锚点距离 = 外圈半径 - 12 |

### 水平偏移
| 参数名 | 文件位置 | 当前值 | 说明 |
|--------|---------|--------|------|
| `horizontal_offset` | `list_view.lua:598,600`<br>`submenu_bake_cache.lua:175,177` | **5** | 子栏相对于锚点的水平偏移（像素）<br>右侧：锚点 + 5<br>左侧：锚点 - 窗口宽度 - 5 |

---

## 🎨 样式参数

### 窗口样式
| 参数名 | 文件位置 | 当前值 | 说明 |
|--------|---------|--------|------|
| `WindowRounding` | `list_view.lua:362` | **8** | 子栏窗口圆角半径（像素） |
| `WindowBorderSize` | `list_view.lua:363` | **1** | 子栏窗口边框宽度（像素） |

### 按钮样式
| 参数名 | 文件位置 | 当前值 | 说明 |
|--------|---------|--------|------|
| `FrameRounding` | `list_view.lua:506` | **4** | 按钮圆角半径（像素） |
| `FrameBorderSize` | `list_view.lua:507` | **1** | 按钮边框宽度（像素） |

---

## 🎨 颜色参数

### 按钮颜色（已配置）
| 参数名 | 文件位置 | 当前值 | 说明 |
|--------|---------|--------|------|
| `normal` | `list_view.lua:70` | `{60, 62, 66, 255}` | 正常状态背景色（RGBA） |
| `hover` | `list_view.lua:71` | `styles.colors.sector_active_out` | 悬停状态背景色 |
| `active` | `list_view.lua:72` | `styles.colors.sector_active_in` | 点击状态背景色 |
| `border` | `list_view.lua:73` | `{85, 85, 90, 100}` | 边框颜色（RGBA） |
| `text` | `list_view.lua:74` | `styles.colors.text_normal` | 文字颜色 |

### 按钮颜色（空插槽）
| 参数名 | 文件位置 | 当前值 | 说明 |
|--------|---------|--------|------|
| `normal` | `list_view.lua:77` | `{30, 30, 32, 100}` | 正常状态背景色（RGBA） |
| `hover` | `list_view.lua:78` | `{50, 50, 55, 150}` | 悬停状态背景色 |
| `active` | `list_view.lua:79` | `{60, 60, 65, 150}` | 点击状态背景色 |
| `border` | `list_view.lua:80` | `{60, 60, 60, 60}` | 边框颜色（RGBA） |
| `text` | `list_view.lua:81` | `styles.colors.text_disabled` | 文字颜色 |

### 窗口颜色
| 参数名 | 文件位置 | 当前值 | 说明 |
|--------|---------|--------|------|
| `bg_col` (背景色) | `list_view.lua:349` | `{20, 20, 22, 240}` | 子栏窗口背景色（RGBA） |
| `border_col` (边框色) | `list_view.lua:351` | `{0, 0, 0, 255}` | 子栏窗口边框色（纯黑） |

---

## 📊 计算公式

### 窗口尺寸
```
窗口宽度 = (按钮宽度 × 列数) + (按钮间距 × (列数-1)) + (内边距 × 2)
窗口高度 = (按钮高度 × 行数) + (按钮间距 × (行数-1)) + (内边距 × 2)
```

### 当前值示例（3行）
```
窗口宽度 = (80 × 3) + (3 × 2) + (0 × 2) = 246 像素
窗口高度 = (30 × 3) + (3 × 2) + (0 × 2) = 96 像素
```

### 按钮位置
```
按钮X = 内边距 + 列索引 × (按钮宽度 + 按钮间距)
按钮Y = 内边距 + 行索引 × (按钮高度 + 按钮间距)
```

### 锚点位置
```
锚点距离 = 外圈半径 - 重叠偏移量
锚点距离 = 外圈半径 - 12
```

### 子栏位置
```
右侧：子栏X = 锚点X + 水平偏移
左侧：子栏X = 锚点X - 窗口宽度 - 水平偏移
子栏Y = 锚点Y - 窗口高度 / 2  (垂直居中)
```

---

## 🔧 修改参数后的操作

1. **修改参数值**：在对应的文件中修改硬编码值
2. **清除缓存**：运行 `Lee_RadialMenu_clear_cache.lua` 清除缓存
3. **重新打开**：重新打开轮盘菜单，查看效果

---

## 📝 注意事项

- 所有参数在两个文件中都有定义：`list_view.lua` 和 `submenu_bake_cache.lua`
- 修改参数后必须同时修改两个文件，确保一致性
- 修改参数后必须清除缓存才能看到效果
- 某些参数（如颜色）可能需要更大的变化才能明显观察到

