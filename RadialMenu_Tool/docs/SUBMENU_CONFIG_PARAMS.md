# å­æ å¯é…ç½®å‚æ•°åˆ—è¡¨

## ğŸ“‹ å½“å‰å¯é…ç½®çš„å­æ å‚æ•°

### 1. æŒ‰é’®å°ºå¯¸ï¼ˆButton Sizeï¼‰

| å‚æ•°å | é…ç½®è·¯å¾„ | é»˜è®¤å€¼ | ä»£ç é»˜è®¤å€¼ | èŒƒå›´ | è¯´æ˜ |
|--------|---------|--------|-----------|------|------|
| `slot_width` | `config.menu.slot_width` | **65** | 60 | 60-150 | å­èœå•æŒ‰é’®å®½åº¦ï¼ˆåƒç´ ï¼‰ |
| `slot_height` | `config.menu.slot_height` | **25** | 25 | 24-60 | å­èœå•æŒ‰é’®é«˜åº¦ï¼ˆåƒç´ ï¼‰ |

**å½±å“**ï¼š
- æŒ‰é’®å°ºå¯¸ç›´æ¥å½±å“å­æ çª—å£å¤§å°
- çª—å£å®½åº¦ = `(slot_width Ã— 4) + (gap Ã— 3) + (padding Ã— 2)`
- çª—å£é«˜åº¦ = `(slot_height Ã— 3) + (gap Ã— 2) + (padding Ã— 2)`

---

### 2. å¸ƒå±€å‚æ•°ï¼ˆLayout Parametersï¼‰

| å‚æ•°å | é…ç½®è·¯å¾„ | é»˜è®¤å€¼ | ä»£ç é»˜è®¤å€¼ | èŒƒå›´ | è¯´æ˜ |
|--------|---------|--------|-----------|------|------|
| `submenu_gap` | `config.menu.submenu_gap` | **3** | 3 | 1-10 | æŒ‰é’®ä¹‹é—´çš„é—´è·ï¼ˆåƒç´ ï¼‰ |
| `submenu_padding` | `config.menu.submenu_padding` | **4** | 4 | 2-15 | çª—å£å†…è¾¹è·ï¼ˆæŒ‰é’®è·ç¦»çª—å£è¾¹ç¼˜çš„è·ç¦»ï¼Œåƒç´ ï¼‰ |

**å½±å“**ï¼š
- `submenu_gap`ï¼šæ§åˆ¶æŒ‰é’®ä¹‹é—´çš„æ°´å¹³/å‚ç›´é—´è·
- `submenu_padding`ï¼šæ§åˆ¶æŒ‰é’®è·ç¦»å­æ çª—å£è¾¹ç¼˜çš„è·ç¦»

---

### 3. ç½‘æ ¼å¸ƒå±€ï¼ˆGrid Layoutï¼‰

| å‚æ•°å | é…ç½®è·¯å¾„ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|---------|--------|------|
| `GRID_COLS` | ä»£ç å¸¸é‡ | **4** | ç½‘æ ¼åˆ—æ•°ï¼ˆç¡¬ç¼–ç ï¼Œä¸å¯é…ç½®ï¼‰ |
| `GRID_ROWS` | ä»£ç å¸¸é‡ | **3** | ç½‘æ ¼è¡Œæ•°ï¼ˆç¡¬ç¼–ç ï¼Œä¸å¯é…ç½®ï¼‰ |
| `max_slots_per_sector` | `config.menu.max_slots_per_sector` | **12** | æ¯ä¸ªæ‰‡åŒºæœ€å¤§æ§½ä½æ•°ï¼ˆ4Ã—3=12ï¼‰ |

**æ³¨æ„**ï¼šç½‘æ ¼å¸ƒå±€ï¼ˆ4åˆ—Ã—3è¡Œï¼‰ç›®å‰æ˜¯ç¡¬ç¼–ç çš„ï¼Œä¸å¯é€šè¿‡é…ç½®ä¿®æ”¹ã€‚

---

## ğŸ“ é…ç½®ç¤ºä¾‹

### åœ¨ `config.json` ä¸­çš„é…ç½®æ ¼å¼ï¼š

```json
{
  "menu": {
    "slot_width": 65,
    "slot_height": 25,
    "submenu_gap": 3,
    "submenu_padding": 4,
    "max_slots_per_sector": 12
  }
}
```

### åœ¨ `config_defaults.lua` ä¸­çš„é»˜è®¤å€¼ï¼š

```lua
menu = {
  slot_width = 65,        -- å­èœå•æ’æ§½å®½åº¦ï¼ˆåƒç´ ï¼‰
  slot_height = 25,       -- å­èœå•æ’æ§½é«˜åº¦ï¼ˆåƒç´ ï¼‰
  max_slots_per_sector = 12,  -- æ¯ä¸ªæ‰‡åŒºæœ€å¤§æ§½ä½æ•°
  -- æ³¨æ„ï¼šsubmenu_gap å’Œ submenu_padding éœ€è¦åœ¨ä»£ç ä¸­æ·»åŠ é»˜è®¤å€¼
}
```

---

## ğŸ”§ æµ‹è¯•å»ºè®®

### æµ‹è¯• 1ï¼šæŒ‰é’®å°ºå¯¸
- **slot_width**: æµ‹è¯• 60, 80, 100, 120, 150
- **slot_height**: æµ‹è¯• 20, 25, 30, 40, 50

### æµ‹è¯• 2ï¼šæŒ‰é’®é—´è·
- **submenu_gap**: æµ‹è¯• 1, 3, 5, 8, 10

### æµ‹è¯• 3ï¼šçª—å£å†…è¾¹è·
- **submenu_padding**: æµ‹è¯• 0, 2, 4, 8, 10, 15

### æµ‹è¯• 4ï¼šç»„åˆæµ‹è¯•
- å°æŒ‰é’® + å¤§é—´è·ï¼š`slot_width=60, slot_height=20, gap=8, padding=10`
- å¤§æŒ‰é’® + å°é—´è·ï¼š`slot_width=100, slot_height=40, gap=1, padding=2`
- æç«¯æµ‹è¯•ï¼š`slot_width=150, slot_height=60, gap=10, padding=15`

---

## âš ï¸ é‡è¦æç¤º

1. **ç¼“å­˜æ¸…ç†**ï¼š
   - ä¿®æ”¹ `submenu_gap` æˆ– `submenu_padding` åï¼Œä¼šè‡ªåŠ¨æ¸…é™¤ç¼“å­˜
   - ä¿®æ”¹ `slot_width` æˆ– `slot_height` åï¼Œéœ€è¦æ‰‹åŠ¨è¿è¡Œ `Lee_RadialMenu_clear_cache.lua`

2. **çª—å£å°ºå¯¸è®¡ç®—**ï¼š
   ```
   çª—å£å®½åº¦ = (slot_width Ã— 4) + (submenu_gap Ã— 3) + (submenu_padding Ã— 2)
   çª—å£é«˜åº¦ = (slot_height Ã— 3) + (submenu_gap Ã— 2) + (submenu_padding Ã— 2)
   ```

3. **é»˜è®¤å€¼ä¸ä¸€è‡´**ï¼š
   - `slot_width` åœ¨ `config_defaults.lua` ä¸­æ˜¯ 65ï¼Œä½†ä»£ç é»˜è®¤å€¼æ˜¯ 60
   - å»ºè®®ç»Ÿä¸€ä¸º 65ï¼ˆé…ç½®æ–‡ä»¶çš„é»˜è®¤å€¼ï¼‰

---

## ğŸ“ å‚æ•°ä½¿ç”¨ä½ç½®

- **`list_view.lua`**: `get_layout_dims()` å‡½æ•°è¯»å–æ‰€æœ‰å‚æ•°
- **`submenu_bake_cache.lua`**: `bake_submenus()` å‡½æ•°è¯»å–æ‰€æœ‰å‚æ•°ç”¨äºçƒ˜ç„™
- **`controller.lua`**: Setup ç•Œé¢ä¸­çš„æ»‘å—æ§ä»¶
- **`preview.lua`**: Preview ç•Œé¢ä¸­çš„æ»‘å—æ§ä»¶

---

## ğŸ¯ å½“å‰çŠ¶æ€

âœ… **å·²æ¥å…¥é…ç½®**ï¼š
- `slot_width` - æŒ‰é’®å®½åº¦
- `slot_height` - æŒ‰é’®é«˜åº¦
- `submenu_gap` - æŒ‰é’®é—´è·
- `submenu_padding` - çª—å£å†…è¾¹è·

âŒ **æœªæ¥å…¥é…ç½®**ï¼ˆç¡¬ç¼–ç ï¼‰ï¼š
- `GRID_COLS = 4` - ç½‘æ ¼åˆ—æ•°
- `GRID_ROWS = 3` - ç½‘æ ¼è¡Œæ•°

---

**æœ€åæ›´æ–°**: 2024-12-19

