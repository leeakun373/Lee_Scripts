# Cursor AI 规则配置 - Lee Scripts 项目

## 项目信息
- **项目名称**: Lee REAPER Scripts
- **GitHub 仓库**: https://github.com/leeakun373/Lee_Reaper_Scripts
- **本地路径**: `C:\Users\DELL\AppData\Roaming\REAPER\Scripts\Lee_Scripts`
- **主要语言**: Lua (REAPER Scripts)

## 版本控制规则

### 当用户请求版本控制操作时：

1. **提交修改前必须**:
   - 检查 Git 状态 (`git status`)
   - 显示将要提交的文件列表
   - 确认提交信息清晰明确

2. **提交信息格式**:
   - 使用中文简体
   - 格式: `类型: 简短描述`
   - 类型: feat/fix/docs/refactor/style/test
   - 示例: `feat: 添加新的 Marker 工作站功能`

3. **推送前必须**:
   - 先执行 `git pull` 确保同步
   - 检查是否有冲突
   - 确认所有修改都已提交

4. **自动执行的操作**:
   - 当用户明确要求提交时，自动执行:
     - `git add .`
     - `git commit -m "提交信息"`
     - `git push origin master`
   - 如果推送失败，提供解决方案

5. **分支管理**:
   - 默认使用 `master` 分支
   - 大功能开发建议创建新分支
   - 分支命名: `feature/功能名称` 或 `fix/问题描述`

## 代码规范

### Lua 脚本规范
- 使用 2 空格缩进
- 函数名使用驼峰命名: `functionName`
- 变量名使用驼峰命名: `variableName`
- 常量使用大写: `CONSTANT_NAME`
- 添加必要的注释，特别是复杂逻辑

### 文件命名规范
- 格式: `Lee_[分类] - [功能描述].lua`
- 分类: Items/Tracks/Takes/Markers/Main/Workflow/Utils
- 示例: `Lee_Items - Split at Time Selection.lua`

### 目录结构
- `Items/` - Items 相关操作
- `Tracks/` - Tracks 相关操作
- `Takes/` - Takes 相关操作
- `Markers/` - Markers 相关操作
- `Main/` - 主要工作流脚本
- `test/` - 测试脚本
- `Doc/` - 文档目录

## 文档管理

### 文档位置
- 项目文档: `Doc/` 目录
- 主 README: 根目录 `README.md`
- 版本控制指南: `Doc/VERSION_CONTROL_GUIDE.md`
- 维护文档: `Doc/MAINTENANCE.md`

### 文档更新规则
- 修改脚本后，如需要更新文档
- 文档使用 Markdown 格式
- 保持文档与代码同步

## 工作流程

### 开发新功能
1. 在 `test/` 目录创建测试脚本
2. 测试通过后移至对应分类目录
3. 更新 `README.md` 添加脚本说明
4. 提交并推送

### 修改现有脚本
1. 直接修改对应目录的脚本
2. 测试功能正常
3. 提交修改并推送

### 文档更新
1. 修改相关文档
2. 提交时使用 `docs:` 类型
3. 推送到远程仓库

## 特殊指令

### 当用户说"提交"、"推送"、"版本控制"时:
- 自动检查 Git 状态
- 显示修改的文件
- 询问或自动生成提交信息
- 执行提交和推送操作

### 当用户说"查看状态"、"Git 状态"时:
- 执行 `git status`
- 执行 `git log --oneline -5` 显示最近 5 次提交
- 显示当前分支信息

### 当用户说"同步"、"拉取"时:
- 执行 `git pull origin master`
- 检查是否有冲突
- 如有冲突，提供解决方案

## 注意事项

1. **不要强制推送** (`git push --force`) 除非用户明确要求
2. **不要删除未提交的修改** 除非用户明确要求
3. **提交前确认** 用户确实想要提交这些修改
4. **推送前同步** 确保先拉取远程更新
5. **使用中文** 所有提示和提交信息使用中文简体

## 错误处理

### 如果推送失败:
1. 检查网络连接
2. 检查身份验证（可能需要 PAT token）
3. 检查是否有冲突需要解决
4. 提供具体的解决方案

### 如果有冲突:
1. 显示冲突文件
2. 解释冲突原因
3. 提供解决步骤
4. 帮助用户解决冲突

---

**配置日期**: 2024-11-18
**适用版本**: Cursor AI 所有版本


